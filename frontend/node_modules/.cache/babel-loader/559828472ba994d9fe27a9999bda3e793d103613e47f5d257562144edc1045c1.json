{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://192.168.1.37:5000/api';\nconst api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n//  Assignments \n\n/** Fetch all active assignments (listing page) */\nexport async function fetchAssignments() {\n  const res = await api.get('/assignments');\n  return res.data.assignments;\n}\n\n/** Fetch a single assignment with table previews */\nexport async function fetchAssignment(id) {\n  const res = await api.get(`/assignments/${id}`);\n  return res.data; // { assignment, tablePreviews }\n}\n\n//  Query execution \n\n/**\r\n * Execute a SQL query against the sandbox PostgreSQL.\r\n * @param {string} sql\r\n * @param {string} assignmentId\r\n * @param {string} sessionId\r\n */\nexport async function executeQuery(sql, assignmentId, sessionId) {\n  const res = await api.post('/query/execute', {\n    sql,\n    assignmentId,\n    sessionId\n  });\n  return res.data; // { success, rows, fields, rowCount, error?, truncated }\n}\n\n//  LLM Hint\n\n/**\r\n * Request a hint from the LLM.\r\n * @param {object} params\r\n * @param {string} params.question - The assignment question text\r\n * @param {string} [params.currentSql] - Student's current SQL attempt\r\n * @param {string} [params.errorMessage] - Last error message if any\r\n * @param {string[]} [params.tables] - Relevant table names\r\n */\nexport async function getHint({\n  question,\n  currentSql,\n  errorMessage,\n  tables\n}) {\n  const res = await api.post('/hint', {\n    question,\n    currentSql,\n    errorMessage,\n    tables\n  });\n  return res.data; // { success, hint }\n}","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","headers","fetchAssignments","res","get","data","assignments","fetchAssignment","id","executeQuery","sql","assignmentId","sessionId","post","getHint","question","currentSql","errorMessage","tables"],"sources":["C:/Users/Saloni/ciphersqlstudio/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = process.env.REACT_APP_API_URL || 'http://192.168.1.37:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 15000,\r\n  headers: { 'Content-Type': 'application/json' },\r\n});\r\n\r\n//  Assignments \r\n\r\n/** Fetch all active assignments (listing page) */\r\nexport async function fetchAssignments() {\r\n  const res = await api.get('/assignments');\r\n  return res.data.assignments;\r\n}\r\n\r\n/** Fetch a single assignment with table previews */\r\nexport async function fetchAssignment(id) {\r\n  const res = await api.get(`/assignments/${id}`);\r\n  return res.data; // { assignment, tablePreviews }\r\n}\r\n\r\n//  Query execution \r\n\r\n/**\r\n * Execute a SQL query against the sandbox PostgreSQL.\r\n * @param {string} sql\r\n * @param {string} assignmentId\r\n * @param {string} sessionId\r\n */\r\nexport async function executeQuery(sql, assignmentId, sessionId) {\r\n  const res = await api.post('/query/execute', { sql, assignmentId, sessionId });\r\n  return res.data; // { success, rows, fields, rowCount, error?, truncated }\r\n}\r\n\r\n//  LLM Hint\r\n\r\n/**\r\n * Request a hint from the LLM.\r\n * @param {object} params\r\n * @param {string} params.question - The assignment question text\r\n * @param {string} [params.currentSql] - Student's current SQL attempt\r\n * @param {string} [params.errorMessage] - Last error message if any\r\n * @param {string[]} [params.tables] - Relevant table names\r\n */\r\nexport async function getHint({ question, currentSql, errorMessage, tables }) {\r\n  const res = await api.post('/hint', { question, currentSql, errorMessage, tables });\r\n  return res.data; // { success, hint }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,8BAA8B;AAEhF,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN,QAAQ;EACjBO,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB;AAChD,CAAC,CAAC;;AAEF;;AAEA;AACA,OAAO,eAAeC,gBAAgBA,CAAA,EAAG;EACvC,MAAMC,GAAG,GAAG,MAAMN,GAAG,CAACO,GAAG,CAAC,cAAc,CAAC;EACzC,OAAOD,GAAG,CAACE,IAAI,CAACC,WAAW;AAC7B;;AAEA;AACA,OAAO,eAAeC,eAAeA,CAACC,EAAE,EAAE;EACxC,MAAML,GAAG,GAAG,MAAMN,GAAG,CAACO,GAAG,CAAC,gBAAgBI,EAAE,EAAE,CAAC;EAC/C,OAAOL,GAAG,CAACE,IAAI,CAAC,CAAC;AACnB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeI,YAAYA,CAACC,GAAG,EAAEC,YAAY,EAAEC,SAAS,EAAE;EAC/D,MAAMT,GAAG,GAAG,MAAMN,GAAG,CAACgB,IAAI,CAAC,gBAAgB,EAAE;IAAEH,GAAG;IAAEC,YAAY;IAAEC;EAAU,CAAC,CAAC;EAC9E,OAAOT,GAAG,CAACE,IAAI,CAAC,CAAC;AACnB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeS,OAAOA,CAAC;EAAEC,QAAQ;EAAEC,UAAU;EAAEC,YAAY;EAAEC;AAAO,CAAC,EAAE;EAC5E,MAAMf,GAAG,GAAG,MAAMN,GAAG,CAACgB,IAAI,CAAC,OAAO,EAAE;IAAEE,QAAQ;IAAEC,UAAU;IAAEC,YAAY;IAAEC;EAAO,CAAC,CAAC;EACnF,OAAOf,GAAG,CAACE,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}