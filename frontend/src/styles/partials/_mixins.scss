// ─────────────────────────────────────────────────────────────────────────────
// _mixins.scss — Reusable SCSS mixins
// ─────────────────────────────────────────────────────────────────────────────
@use 'variables' as *;

// ── Breakpoint mixins (mobile-first) ─────────────────────────────────────────
@mixin sm {
  @media (min-width: #{$bp-sm}) { @content; }
}

@mixin md {
  @media (min-width: #{$bp-md}) { @content; }
}

@mixin lg {
  @media (min-width: #{$bp-lg}) { @content; }
}

// ── Flex helpers ─────────────────────────────────────────────────────────────
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-gap($gap: $sp-4) {
  display: flex;
  align-items: center;
  gap: $gap;
}

// ── Card / panel surface ─────────────────────────────────────────────────────
@mixin card($bg: $clr-bg-card) {
  background: $bg;
  border: 1px solid $clr-border;
  border-radius: $radius-lg;
}

// ── Accent glow border ───────────────────────────────────────────────────────
@mixin glow-border {
  border-color: $clr-border-focus;
  box-shadow: 0 0 0 3px $clr-accent-dim, $shadow-accent;
}

// ── Truncate text ────────────────────────────────────────────────────────────
@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// ── Scrollbar styling ────────────────────────────────────────────────────────
@mixin custom-scrollbar {
  &::-webkit-scrollbar { width: 6px; height: 6px; }
  &::-webkit-scrollbar-track { background: transparent; }
  &::-webkit-scrollbar-thumb {
    background: $clr-border;
    border-radius: $radius-pill;
    &:hover { background: $clr-text-disabled; }
  }
}

// ── Button base ──────────────────────────────────────────────────────────────
@mixin btn-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: $sp-2;
  padding: $sp-2 $sp-4;
  border-radius: $radius-md;
  border: 1px solid transparent;
  font-family: $font-body;
  font-size: $fs-base;
  font-weight: $fw-medium;
  cursor: pointer;
  transition: all $transition-fast;
  white-space: nowrap;
  text-decoration: none;

  &:disabled {
    opacity: 0.45;
    cursor: not-allowed;
    pointer-events: none;
  }
}

// ── Difficulty badge ─────────────────────────────────────────────────────────
@mixin difficulty-badge($color) {
  background: rgba($color, 0.12);
  color: $color;
  border: 1px solid rgba($color, 0.3);
  border-radius: $radius-pill;
  padding: $sp-1 $sp-3;
  font-size: $fs-xs;
  font-family: $font-display;
  font-weight: $fw-bold;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

// ── Focus ring (accessibility) ───────────────────────────────────────────────
@mixin focus-ring {
  &:focus-visible {
    outline: 2px solid $clr-accent;
    outline-offset: 2px;
  }
}

// ── Shimmer loading skeleton ─────────────────────────────────────────────────
@mixin skeleton {
  background: linear-gradient(
    90deg,
    $clr-bg-card 25%,
    $clr-bg-elevated 50%,
    $clr-bg-card 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.4s infinite;
  border-radius: $radius-md;
}

// ── Fade-in animation ────────────────────────────────────────────────────────
@mixin fade-in($duration: 300ms, $delay: 0ms) {
  animation: fadeIn $duration ease $delay both;
}